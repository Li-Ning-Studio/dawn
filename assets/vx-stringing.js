import{h as x,y as w,u as n,D as I}from"./vx-hooks.module.js";import{c as T,f as C}from"./vx-shopify-client.js";function V({stringingCollectionId:c,maxTension:g}){var y,f;const m=parseInt((g||"69").replace(/[^\d.]/g,"")),[h,P]=x([]),[t,u]=x({stringProduct:null,stringVariant:null,tension:null});return w(()=>{(async()=>{var e,r,a,o;try{const{data:i,errors:l}=await T.request(C,{variables:{id:`gid://shopify/Collection/${c}`}});l!=null&&l.message&&console.error({errorsCol:l}),(r=(e=i==null?void 0:i.collection)==null?void 0:e.products)!=null&&r.nodes&&((o=(a=i==null?void 0:i.collection)==null?void 0:a.products)==null?void 0:o.nodes.length)>0&&P((i==null?void 0:i.collection.products.nodes)||[])}catch(i){console.error(i),document.getElementsByClassName("frame")[0].style.display="none"}})()},[]),h.length==0?n("p",{children:"Loading"}):n("form",{id:"stringing-form",style:{marginTop:"2rem"},children:[n("div",{id:"strings-container",children:[n("legend",{className:"form__label",children:n("span",{children:"Choose String"})}),h.filter(e=>e.availableForSale).map(e=>{var a,o,i,l,d;const r=e==null?void 0:e.id.split("/").pop();return n("label",{className:"sheet",htmlFor:r,style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",alignItems:"center",margin:"1.5rem 0",justifyContent:"space-between",paddingRight:"1rem",overflow:"hidden",transition:"all 0.3s",outline:((a=t.stringProduct)==null?void 0:a.id)===e.id?"2px solid var(--accent-color)":"2px solid transparent"},children:[n("input",{disabled:(e==null?void 0:e.availableForSale)===!1,onChange:p=>{u({stringProduct:e,stringVariant:null,tension:null}),S("string-variants-container")},required:!0,type:"radio",name:"string-product",id:r}),n("div",{style:{display:"flex",alignItems:"center",gridColumn:"1/12",padding:"6px 0",fontSize:"1.4rem"},children:[n("img",{width:80,height:80,src:(o=e.featuredImage)==null?void 0:o.url,alt:((i=e.featuredImage)==null?void 0:i.altText)||""}),n("div",{style:{width:"100%",letterSpacing:"0px"},children:[n("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n("p",{style:{color:"var(--gray-90)",margin:"0"},children:e==null?void 0:e.title}),n("span",{style:{color:"var(--gray-60)",fontSize:"1.25rem"},children:[parseInt(e.priceRange.minVariantPrice.amount)," ",e.priceRange.minVariantPrice.currencyCode]})]}),(l=e==null?void 0:e.metafield)!=null&&l.value?n("p",{style:{margin:"0",lineHeight:"1.4",color:"var(--gray-60)"},children:(d=e==null?void 0:e.metafield)==null?void 0:d.value}):null]})]})]},r)})]}),n("div",{style:{scrollMarginTop:"10rem"},id:"string-variants-container",children:t.stringProduct?n("div",{children:[n("legend",{className:"form__label",children:n("span",{children:["Select Color for ",t.stringProduct.title," String"]})}),n("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap",marginTop:"1rem"},children:t.stringProduct.variants.nodes.sort((e,r)=>e.id>r.id?1:-1).sort((e,r)=>e.availableForSale?-1:1).filter(e=>e.availableForSale).map(e=>{var i,l,d,p,b;const r=e.id.split("/").pop(),a=(d=(l=(i=t.stringProduct)==null?void 0:i.options[0].optionValues.find(v=>v.name==e.title))==null?void 0:l.swatch)==null?void 0:d.color,o=e.availableForSale===!1;return n("label",{className:"sheet",htmlFor:r,style:{opacity:o?.1:1,width:"50px",height:"50px",borderRadius:"100%",display:"flex",alignItems:"center",marginRight:"0.4rem",justifyContent:"center",outline:((p=t.stringVariant)==null?void 0:p.id)===e.id?"2px solid var(--accent-color)":"2px solid transparent"},children:[n("input",{"data-sku":e.sku,"data-string":(((b=t==null?void 0:t.stringProduct)==null?void 0:b.title)||"")+" - "+e.title,disabled:e.availableForSale===!1,onChange:v=>{u({stringProduct:t.stringProduct,stringVariant:e,tension:t.tension}),S("string-tensions-container")},required:!0,type:"radio",name:"string-variant",id:r}),a?n("span",{style:{width:"46px",height:"46px",background:a,borderRadius:"100%",display:"block"}}):n("span",{children:e.title})]},r)})})]}):null}),n("div",{style:{scrollMarginTop:"10rem"},id:"string-tensions-container",children:t.stringVariant?n("div",{children:[n("legend",{className:"form__label",children:n("span",{children:"adjust Tension"})}),n("div",{style:{display:"grid",gap:"1.5rem",justifyContent:"start",gridTemplateColumns:"repeat(4, 1fr)",marginTop:"1rem"},children:Array.from({length:20},(e,r)=>r+21).map(e=>n("label",{className:"sheet",htmlFor:String(e),style:{fontSize:window.innerWidth>768?"1.6rem":"1.4rem",display:m<e?"none":"block",padding:"0.8rem 0",textAlign:"center",outline:t.tension===e?"2px solid var(--accent-color)":"2px solid transparent",color:t.tension===e?"black":"var(--gray-70)",transition:"all 0.3s"},children:[n("input",{onChange:r=>{u({stringProduct:t.stringProduct,stringVariant:t.stringVariant,tension:e})},required:!0,type:"radio",name:"string-tension",id:String(e)}),n("span",{children:[e,"LBS"]})]},e))})]}):null}),t.stringVariant&&t.tension?n("div",{style:{background:"rgb(233, 255, 241)",padding:"0.2rem 2rem",borderRadius:"10px",color:"#002d03",fontSize:"1.5rem",lineHeight:"1.6",letterSpacing:"0.03rem"},children:n("p",{children:["All set for the court! You are customising this ",window.s3_product_name," Racket with"," ",(y=t.stringVariant)==null?void 0:y.selectedOptions[0].value," ",(f=t.stringProduct)==null?void 0:f.title,", strung at the tension of"," ",t.tension," LBS."]})}):null]})}const S=c=>{document.getElementById(c)&&setTimeout(()=>{var m;(m=window.document.getElementById(c))==null||m.scrollIntoView({behavior:"smooth"})},500)},s=document.getElementById("stringing-root"),_=(s==null?void 0:s.dataset.stringingCollectionId)||null,k=(s==null?void 0:s.dataset.maxTension)||null;I(n(V,{stringingCollectionId:_,maxTension:k}),s);
