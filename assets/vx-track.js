import{h as m,u as e,k as y,D as g}from"./vx-hooks.module.js";const f=()=>{var s,c,h,p;const[i,d]=m(void 0),[a,n]=m(!1);return a?e("p",{children:"Loading"}):e("section",{children:[e("form",{onSubmit:async r=>{var l;r.preventDefault(),n(!0),fetch("https://shopify-server-peach.vercel.app/shipment-updates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_id:((l=r.target.elements["order-number"])==null?void 0:l.value)||"",email:r.target.elements.email.value||""})}).then(t=>{if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);return t.json()}).then(t=>{console.log("Success:",t),d(t)}).catch(t=>{console.error("Error:",t),d(null)}).finally(()=>{n(!1)})},style:"display: flex; justify-content: center",children:[e("input",{placeholder:"Order Email",type:"email",name:"email",id:"order-email"}),e("input",{placeholder:"Order Number",type:"text",name:"order-number",id:"order-number"}),e("button",{type:"submit",children:"Track"})]}),i===void 0?null:i===null?e("p",{children:"We were not able to track your order"}):e("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"16px"},children:[e("div",{children:[e("h1",{style:{fontSize:"1.5rem",color:"white",borderRadius:" 100px",backgroundColor:"var(--accent-color)",display:"inline-block",padding:"1rem 2rem",margin:0},children:u(i,"latestStatus.text","Tracking Your Package")}),e("p",{style:{color:"var(--gray-70)",margin:0},children:u(i,"latestStatus.statusCode","")}),((s=i.latestStatus)==null?void 0:s.timestamp)&&e("p",{style:{fontSize:"1.5rem",color:"var(--gray-40)",margin:0},children:["Last update on ",v(i.latestStatus.timestamp)]})]}),e("div",{style:{margin:"4rem 0"},children:[e("div",{children:"Shipment Details"}),e("div",{children:[e("div",{children:"Carrier:"}),e("div",{children:i.carrierName||"N/A"})]}),e("div",{children:[e("div",{children:"Ship to:"}),e("div",{children:i.shippingAddress?e(y,{children:[i.shippingAddress.address1,e("br",{}),i.shippingAddress.city,", ",i.shippingAddress.zip,e("br",{}),i.shippingAddress.country]}):"N/A"})]})]}),e("div",{style:{margin:"4rem 0"},children:[e("div",{children:"Order Summary"}),(c=i.product_details)==null?void 0:c.map((r,l)=>e("div",{children:[e("div",{}),e("div",{children:[e("div",{style:{fontWeight:500},children:r.description}),e("div",{style:{fontSize:"14px",color:"var(--gray-50)"},children:["SKU: ",r.sku," • Qty: ",r.quantity]}),e("div",{style:{fontWeight:500,marginTop:"4px"},children:["₹",r.price]})]})]},l))]}),e("div",{style:{margin:"4rem 0"},children:[e("div",{children:[e("div",{children:"Subtotal:"}),e("div",{children:["₹",i.subTotal]})]}),e("div",{children:[e("div",{children:"Tax:"}),e("div",{children:["₹",i.taxTotal]})]}),e("div",{children:[e("div",{children:"Total:"}),e("div",{children:["₹",(parseFloat(i.subTotal||"0")+parseFloat(i.taxTotal||"0")).toFixed(2)]})]})]}),e("div",{style:{margin:"4rem 0"},children:e("div",{children:[e("div",{children:"Tracking History"}),(((h=i==null?void 0:i.scans)==null?void 0:h.length)||0)>0?(p=i==null?void 0:i.scans)==null?void 0:p.map((r,l)=>e("div",{children:[e("div",{}),e("div",{style:{flex:1},children:[e("div",{style:{fontWeight:600},children:r.text}),e("div",{style:{fontSize:"14px",margin:"4px 0"},children:r.description}),e("div",{style:{fontSize:"12px",color:"var(--gray-50)",display:"flex",justifyContent:"space-between"},children:[e("span",{children:v(r.timestamp||"")}),e("span",{children:r.location})]})]})]},l)):e("div",{children:"No tracking updates available"})]})})]})]})},v=i=>{if(!i)return"";try{return new Date(i).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return i}},u=(i,d,a="")=>d.split(".").reduce((n,o)=>n&&n[o]!==void 0?n[o]:a,i),b=document.getElementById("track-root");g(e(f,{}),b);
