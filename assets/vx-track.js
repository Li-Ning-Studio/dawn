import{h as u,u as e,k as y,D as b}from"./vx-hooks.module.js";const s=window.innerWidth<768,f=()=>{var c,h,m,p;const[i,d]=u(void 0),[o,n]=u(!1),a=async r=>{var l;r.preventDefault(),n(!0),fetch("https://shopify-server-peach.vercel.app/shipment-updates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_id:((l=r.target.elements["order-number"])==null?void 0:l.value)||"",email:r.target.elements.email.value||""})}).then(t=>{if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);return t.json()}).then(t=>{console.log("Success:",t),d(t)}).catch(t=>{console.error("Error:",t),d(null)}).finally(()=>{n(!1)})};return o?e("p",{children:"Loading"}):e("section",{style:s?{padding:"2rem 2rem"}:{display:"grid",gridTemplateColumns:"repeat(12, 1fr)",maxWidth:"1100px",margin:"0 auto",padding:"2rem 3rem"},children:[e("div",{style:s?{borderBottom:"1px solid #e4e4e4",paddingBottom:"2rem"}:{gridColumn:"1/7",borderRight:"1px solid #e4e4e4",paddingRight:"2rem"},children:[e("h3",{children:"Login to see your orders"}),e("p",{children:["Sign in with your ",window.s3_brand," account to see all your past orders."]}),e("a",{className:"button button--secondary button--xlarge link",href:"/account/login",children:"LOGIN TO VIEW ORDERS"})]}),e("div",{style:s?{paddingTop:"2rem"}:{gridColumn:"7/12",paddingLeft:"4rem"},children:[e("form",{onSubmit:a,style:"",children:[e("h3",{children:"Find a specific order"}),e("div",{className:"field",children:[e("input",{className:"field__input",placeholder:"Order Email",type:"email",name:"email",id:"order-email"}),e("label",{className:"field__label",htmlFor:"order-email",children:"Order Email"})]}),e("div",{style:{margin:"2rem 0"},className:"field",children:[e("input",{className:"field__input",placeholder:"Order Number",type:"text",name:"order-number",id:"order-number"}),e("label",{className:"field__label",htmlFor:"order-number",children:"Order Number"})]}),e("button",{className:"button button--primary button--xlarge button--full-width",type:"submit",children:"Track"})]}),i===void 0?null:i===null?e("p",{children:"We were not able to track your order"}):e("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"16px"},children:[e("div",{children:[e("h1",{style:{fontSize:"1.5rem",color:"white",borderRadius:" 100px",backgroundColor:"var(--accent-color)",display:"inline-block",padding:"1rem 2rem",margin:0},children:v(i,"latestStatus.text","Tracking Your Package")}),e("p",{style:{color:"var(--gray-70)",margin:0},children:v(i,"latestStatus.statusCode","")}),((c=i.latestStatus)==null?void 0:c.timestamp)&&e("p",{style:{fontSize:"1.5rem",color:"var(--gray-40)",margin:0},children:["Last update on ",g(i.latestStatus.timestamp)]})]}),e("div",{style:{margin:"4rem 0"},children:[e("div",{children:"Shipment Details"}),e("div",{children:[e("div",{children:"Carrier:"}),e("div",{children:i.carrierName||"N/A"})]}),e("div",{children:[e("div",{children:"Ship to:"}),e("div",{children:i.shippingAddress?e(y,{children:[i.shippingAddress.address1,e("br",{}),i.shippingAddress.city,", ",i.shippingAddress.zip,e("br",{}),i.shippingAddress.country]}):"N/A"})]})]}),e("div",{style:{margin:"4rem 0"},children:[e("div",{children:"Order Summary"}),(h=i.product_details)==null?void 0:h.map((r,l)=>e("div",{children:[e("div",{}),e("div",{children:[e("div",{style:{fontWeight:500},children:r.description}),e("div",{style:{fontSize:"14px",color:"var(--gray-50)"},children:["SKU: ",r.sku," • Qty: ",r.quantity]}),e("div",{style:{fontWeight:500,marginTop:"4px"},children:["₹",r.price]})]})]},l))]}),e("div",{style:{margin:"4rem 0"},children:[e("div",{children:[e("div",{children:"Subtotal:"}),e("div",{children:["₹",i.subTotal]})]}),e("div",{children:[e("div",{children:"Tax:"}),e("div",{children:["₹",i.taxTotal]})]}),e("div",{children:[e("div",{children:"Total:"}),e("div",{children:["₹",(parseFloat(i.subTotal||"0")+parseFloat(i.taxTotal||"0")).toFixed(2)]})]})]}),e("div",{style:{margin:"4rem 0"},children:e("div",{children:[e("div",{children:"Tracking History"}),(((m=i==null?void 0:i.scans)==null?void 0:m.length)||0)>0?(p=i==null?void 0:i.scans)==null?void 0:p.map((r,l)=>e("div",{children:[e("div",{}),e("div",{style:{flex:1},children:[e("div",{style:{fontWeight:600},children:r.text}),e("div",{style:{fontSize:"14px",margin:"4px 0"},children:r.description}),e("div",{style:{fontSize:"12px",color:"var(--gray-50)",display:"flex",justifyContent:"space-between"},children:[e("span",{children:g(r.timestamp||"")}),e("span",{children:r.location})]})]})]},l)):e("div",{children:"No tracking updates available"})]})})]})]})]})},g=i=>{if(!i)return"";try{return new Date(i).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return i}},v=(i,d,o="")=>d.split(".").reduce((n,a)=>n&&n[a]!==void 0?n[a]:o,i),x=document.getElementById("track-root");b(e(f,{}),x);
