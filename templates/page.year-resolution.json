/*
 * ------------------------------------------------------------
 * IMPORTANT: The contents of this file are auto-generated.
 *
 * This file may be updated by the Shopify admin theme editor
 * or related systems. Please exercise caution as any changes
 * made to this file may be overwritten.
 * ------------------------------------------------------------
 */
{
  "sections": {
    "main": {
      "type": "main-page",
      "settings": {
        "padding_top": 28,
        "padding_bottom": 28
      }
    },
    "custom_liquid_ALwqQH": {
      "type": "custom-liquid",
      "name": "t:sections.custom-liquid.presets.name",
      "settings": {
        "custom_liquid": "{% comment %}\n  CUSTOM RESOLUTION APP SECTION - v2 (Server-Side Rendering Fix)\n{% endcomment %}\n\n<div class=\"res-page-container\">\n  \n  <div class=\"res-layout\">\n    \n    <div class=\"res-col-visual\">\n      <h2 class=\"mobile-only-heading\">What is your Goal for 2026?</h2>\n      \n      <div class=\"res-grid\" id=\"res-card-container\">\n        \n        <div class=\"res-card\" onclick=\"selectCard(this)\" data-id=\"0\" \n             data-reward=\"Rackets @ Up To 50% OFF\" \n             data-url=\"https://in.hndrd.co/collections/badminton-rackets?sort_by=price-ascending&filter.v.price.gte=&filter.v.price.lte=\">\n          <div class=\"res-radio-circle\"></div>\n          <div class=\"res-text\">I’ll take up badminton</div>\n        </div>\n\n        <div class=\"res-card\" onclick=\"selectCard(this)\" data-id=\"1\" \n             data-reward=\"Buy 1 Get 3 FREE (Grip + Wristband + Stringing)\" \n             data-url=\"https://in.hndrd.co/collections/winter-bundle-free-grip-wristbands-copy\">\n          <div class=\"res-radio-circle\"></div>\n          <div class=\"res-text\">I’ll upgrade my gear</div>\n        </div>\n\n        <div class=\"res-card\" onclick=\"selectCard(this)\" data-id=\"2\" \n             data-reward=\"Buy Shoes Get Socks FREE\" \n             data-url=\"https://in.hndrd.co/collections/free-socks-product\">\n          <div class=\"res-radio-circle\"></div>\n          <div class=\"res-text\">I’ll improve my fitness</div>\n        </div>\n\n        <div class=\"res-card\" onclick=\"selectCard(this)\" data-id=\"3\" \n             data-reward=\"Up To 50% Off Pickleball Gear\" \n             data-url=\"https://in.hndrd.co/collections/pickleball?page=1\">\n          <div class=\"res-radio-circle\"></div>\n          <div class=\"res-text\">I’ll try a new sport</div>\n        </div>\n\n      </div>\n    </div>\n\n    <div class=\"res-col-content\">\n      \n      <div id=\"res-state-form\">\n        <h1 class=\"res-heading desktop-only\">What is your Goal for 2026?</h1>\n        <p class=\"res-subheading\">Select your resolution to unlock a tailored offer.</p>\n        \n        <div class=\"res-form-wrapper\">\n          {% form 'customer', id: 'res-data-form', class: 'res-form-element', onsubmit: 'return false;' %}\n            <input type=\"hidden\" name=\"contact[tags]\" value=\"newsletter, resolution-2026\">\n            <input type=\"hidden\" name=\"contact[note][Resolution]\" id=\"res-hidden-note\">\n\n            <div class=\"form-row\">\n              <input \n                type=\"email\" \n                name=\"contact[email]\" \n                id=\"res-email-input\"\n                class=\"res-input\"\n                placeholder=\"Enter your email address\" \n                required\n              >\n            </div>\n            <button type=\"submit\" id=\"res-trigger-btn\" class=\"res-cta\">UNLOCK MY OFFER</button>\n            <p id=\"res-error-msg\" style=\"color:red; display:none; margin-top:10px;\">Please select a resolution & enter valid email.</p>\n          {% endform %}\n        </div>\n      </div>\n\n      <div id=\"res-state-done\" style=\"display:none; text-align: center;\">\n        <h2>Goal Set!</h2>\n        <p>Your exclusive offer is ready.</p>\n        <button onclick=\"openPrizeModal()\" class=\"res-cta secondary\">View Offer</button>\n      </div>\n    </div>\n  </div>\n\n  <div id=\"res-modal-overlay\" class=\"res-modal-overlay\" style=\"display:none;\">\n    <div class=\"res-modal-card\">\n      <h2 class=\"modal-title\">LET'S MAKE IT HAPPEN!</h2>\n      <p class=\"modal-subtitle\">To help you achieve your goal:</p>\n      \n      <div class=\"prize-display-box\">\n        <h3 id=\"modal-prize-name\" style=\"margin:0; font-size: 1.2rem;\">...</h3>\n      </div>\n\n      <p class=\"modal-instruction\">Discount/Offer applied via link below.</p>\n      <a id=\"modal-cta-link\" href=\"#\" class=\"res-cta modal-btn\">SHOP NOW</a>\n      <button class=\"modal-close-text\" onclick=\"closeModal()\">Close</button>\n    </div>\n  </div>\n\n</div>\n\n<style>\n  /* Base Layout */\n  .res-page-container { max-width: 1100px; margin: 0 auto; padding: 50px 20px; font-family: sans-serif; min-height: 600px; display: flex; align-items: center; justify-content: center; }\n  .res-layout { display: flex; align-items: flex-start; justify-content: space-between; width: 100%; gap: 60px; }\n  \n  @media (max-width: 900px) { \n    .res-layout { flex-direction: column; gap: 30px; } \n    .desktop-only { display: none; }\n    .mobile-only-heading { display: block; font-size: 1.8rem; font-weight: 800; text-align: center; margin-bottom: 20px; width: 100%; line-height: 1.2;}\n  }\n  @media (min-width: 901px) { .mobile-only-heading { display: none; } }\n\n  .res-col-visual, .res-col-content { flex: 1; width: 100%; }\n  \n  /* --- RESOLUTION CARDS UI --- */\n  .res-grid { display: flex; flex-direction: column; gap: 15px; width: 100%; }\n  \n  .res-card {\n    background: #f9f9f9;\n    border: 2px solid #e0e0e0;\n    padding: 20px;\n    border-radius: 10px;\n    cursor: pointer;\n    transition: all 0.3s ease;\n    display: flex; align-items: center; gap: 15px;\n  }\n  \n  /* The \"Radio\" circle visual */\n  .res-radio-circle {\n    height: 20px; width: 20px;\n    border-radius: 50%;\n    border: 2px solid #ccc;\n    position: relative;\n    flex-shrink: 0;\n  }\n  .res-radio-circle::after { /* The dot */\n    content: ''; position: absolute; top: 50%; left: 50%;\n    width: 10px; height: 10px; background: #000;\n    border-radius: 50%; transform: translate(-50%, -50%) scale(0);\n    transition: transform 0.2s;\n  }\n\n  .res-text { font-weight: 600; font-size: 1.4rem; color: #333; }\n\n  /* INTERACTIVE STATES */\n  .res-card.active {\n    border-color: #000;\n    background: #fff;\n    box-shadow: 0 5px 15px rgba(0,0,0,0.05);\n    transform: scale(1.02);\n    opacity: 1 !important;\n  }\n  .res-card.active .res-radio-circle { border-color: #000; }\n  .res-card.active .res-radio-circle::after { transform: translate(-50%, -50%) scale(1); }\n\n  /* Inactive Fading */\n  .res-grid.has-selection .res-card:not(.active) { opacity: 0.5; border-color: #eee; }\n  .res-grid.has-selection .res-card:not(.active):hover { opacity: 0.8; }\n\n  /* --- FORM STYLES --- */\n  .res-heading { font-size: 2.5rem; font-weight: 800; margin-bottom: 10px; line-height: 1.1; }\n  .res-subheading { font-size: 1.5rem; color: #666; margin-bottom: 30px; }\n  .res-input { width: 100%; padding: 18px; font-size: 1.4rem; border: 2px solid #ddd; border-radius: 8px; margin-bottom: 15px; box-sizing: border-box; }\n  .res-cta { display: block; width: 100%; padding: 18px; background: #000; color: #fff; font-weight: bold; text-transform: uppercase; border: none; border-radius: 8px; cursor: pointer; text-decoration: none; text-align: center; transition: 0.3s; }\n  .res-cta:hover { background: #333; }\n  .res-cta:disabled { background: #999; cursor: wait; }\n\n  /* MODAL */\n  .res-modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 9999; display: flex; justify-content: center; align-items: center; }\n  .res-modal-card { background: #fff; padding: 40px; border-radius: 12px; width: 90%; max-width: 500px; text-align: center; box-shadow: 0 20px 50px rgba(0,0,0,0.5); }\n  .prize-display-box { background: #f4f4f4; padding: 20px; border: 2px dashed #000; margin: 20px 0; }\n  .modal-title { color: #E63946; margin: 0 0 10px 0; }\n  .modal-close-text { background: none; border: none; text-decoration: underline; color: #777; margin-top: 15px; cursor: pointer; }\n</style>\n\n<script>\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n\n  // URL CLEANER\n  if (window.location.hash === '#res-data-form' || window.location.search.includes('contact')) {\n     const cleanUrl = window.location.pathname; \n     window.history.replaceState(null, null, cleanUrl);\n     window.scrollTo(0, 0);\n  }\n\n  // GLOBAL STATE\n  let selectedReward = null;\n  let selectedUrl = null;\n\n  const formEl = document.getElementById('res-data-form');\n  const btn = document.getElementById('res-trigger-btn');\n  const noteInput = document.getElementById('res-hidden-note');\n  const container = document.getElementById('res-card-container');\n  const allCards = document.querySelectorAll('.res-card');\n\n  // --- SELECTION LOGIC ---\n  // Exposed to window so onclick=\"\" in HTML works\n  window.selectCard = function(cardElement) {\n    const id = cardElement.getAttribute('data-id');\n    const reward = cardElement.getAttribute('data-reward');\n    const url = cardElement.getAttribute('data-url');\n    const text = cardElement.querySelector('.res-text').innerText;\n    \n    // 1. Update State\n    selectedReward = reward;\n    selectedUrl = url;\n    if(noteInput) noteInput.value = text;\n\n    // 2. Visuals\n    container.classList.add('has-selection');\n    allCards.forEach(c => c.classList.remove('active'));\n    cardElement.classList.add('active');\n\n    // 3. Clear Error\n    document.getElementById('res-error-msg').style.display = 'none';\n  }\n\n  // --- CHECK HISTORY ---\n  const savedReward = localStorage.getItem('res_saved_reward');\n  const savedUrl = localStorage.getItem('res_saved_url');\n  \n  if (savedReward && savedUrl) {\n    selectedReward = savedReward;\n    selectedUrl = savedUrl;\n    showPostSubmitState();\n    setTimeout(() => { openPrizeModal(); }, 500); \n  }\n\n  // --- SUBMIT HANDLER ---\n  if(formEl){\n    formEl.addEventListener('submit', function(e) { e.preventDefault(); processForm(); });\n  }\n\n  function processForm() {\n    const emailInput = document.getElementById('res-email-input');\n    const email = emailInput.value;\n    const errorMsg = document.getElementById('res-error-msg');\n    \n    // Validation\n    if(!selectedReward) {\n      errorMsg.innerText = \"Please select a resolution first.\";\n      errorMsg.style.display = 'block';\n      return;\n    }\n    if(!email || !email.includes('@')){\n      errorMsg.innerText = \"Please enter a valid email.\";\n      errorMsg.style.display = 'block';\n      return;\n    }\n\n    btn.disabled = true;\n    btn.innerText = \"UNLOCKING...\";\n\n    // Save Selection\n    localStorage.setItem('res_saved_reward', selectedReward);\n    localStorage.setItem('res_saved_url', selectedUrl);\n\n    // Send Data (Silent)\n    const formData = new FormData(formEl);\n    fetch('/contact', { method: 'POST', body: formData }).catch(e => console.log(e));\n\n    // Show Result\n    setTimeout(() => {\n      showPostSubmitState();\n      openPrizeModal();\n    }, 1000);\n  }\n\n  function showPostSubmitState() {\n    document.getElementById('res-state-form').style.display = 'none';\n    document.getElementById('res-state-done').style.display = 'block';\n  }\n\n  window.openPrizeModal = function() {\n    if(selectedReward && selectedUrl) {\n      document.getElementById('modal-prize-name').innerText = selectedReward;\n      document.getElementById('modal-cta-link').href = selectedUrl;\n      document.getElementById('res-modal-overlay').style.display = 'flex';\n    }\n  }\n\n  window.closeModal = function() {\n    document.getElementById('res-modal-overlay').style.display = 'none';\n  }\n\n});\n</script>",
        "color_scheme": "",
        "padding_top": 0,
        "padding_bottom": 52
      }
    }
  },
  "order": [
    "main",
    "custom_liquid_ALwqQH"
  ]
}
